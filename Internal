-- Gui to Lua
-- Version: 3.2

-- Instances:

local Executor = Instance.new("ScreenGui")
local TopBar = Instance.new("Frame")
local Close = Instance.new("TextButton")
local TextLabel = Instance.new("TextLabel")
local Frame = Instance.new("Frame")
local ScriptBox = Instance.new("TextBox")
local Clear = Instance.new("TextButton")
local Execute = Instance.new("TextButton")
local EnableDisable = Instance.new("Frame")
local ImageButton = Instance.new("ImageButton")
local UICorner = Instance.new("UICorner")
local LoadSound = Instance.new("Sound")
local TweenService = game:GetService("TweenService")

-- Helper function to tween a GUI objectâ€™s transparency
local function tweenTransparency(instance, transparencyProps, goalValue, duration)
	for _, prop in ipairs(transparencyProps) do
		if instance[prop] ~= nil then
			local tweenInfo = TweenInfo.new(duration, Enum.EasingStyle.Sine, Enum.EasingDirection.Out)
			local tween = TweenService:Create(instance, tweenInfo, {[prop] = goalValue})
			tween:Play()
		end
	end
end

-- Fade in GUI
for _, obj in ipairs(Executor:GetDescendants()) do
	if obj:IsA("GuiObject") then
		-- Set initial transparency to 1 (invisible)
		if obj.BackgroundTransparency ~= nil then obj.BackgroundTransparency = 1 end
		if obj:IsA("TextLabel") or obj:IsA("TextButton") or obj:IsA("TextBox") then
			obj.TextTransparency = 1
		end

		-- Tween to visible
		task.delay(0.1, function()
			tweenTransparency(obj, {"BackgroundTransparency"}, 0, 0.6)
			if obj:IsA("TextLabel") or obj:IsA("TextButton") or obj:IsA("TextBox") then
				tweenTransparency(obj, {"TextTransparency"}, 0, 0.6)
			end
		end)
	end
end

-- Services:
local UserInputService = game:GetService("UserInputService")

-- Properties:

LoadSound.Name = "LoadSound"
LoadSound.Parent = Executor
LoadSound.SoundId = "rbxassetid://129797567433050"  -- Replace with your own sound ID
LoadSound.Volume = 1
LoadSound.PlayOnRemove = false


Executor.Name = "Executor"
Executor.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
Executor.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

TopBar.Name = "TopBar"
TopBar.Parent = Executor
TopBar.BackgroundColor3 = Color3.fromRGB(85, 125, 255)
TopBar.BorderColor3 = Color3.fromRGB(0, 0, 0)
TopBar.BorderSizePixel = 0
TopBar.Position = UDim2.new(0.287383169, 0, 0.305970162, 0)
TopBar.Size = UDim2.new(0, 449, 0, 18)

Close.Name = "Close"
Close.Parent = TopBar
Close.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Close.BackgroundTransparency = 1.000
Close.BorderColor3 = Color3.fromRGB(0, 0, 0)
Close.BorderSizePixel = 0
Close.Position = UDim2.new(0.92650336, 0, 0, 0)
Close.Size = UDim2.new(0, 33, 0, 24)
Close.Font = Enum.Font.SourceSans
Close.Text = "^"
Close.TextColor3 = Color3.fromRGB(255, 255, 255)
Close.TextSize = 29.000

TextLabel.Parent = TopBar
TextLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TextLabel.BackgroundTransparency = 1.000
TextLabel.BorderColor3 = Color3.fromRGB(0, 0, 0)
TextLabel.BorderSizePixel = 0
TextLabel.Position = UDim2.new(0.0155902002, 0, 0, 0)
TextLabel.Size = UDim2.new(0, 193, 0, 18)
TextLabel.Font = Enum.Font.SourceSans
TextLabel.Text = "<3 Internal"
TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TextLabel.TextSize = 14.000
TextLabel.TextXAlignment = Enum.TextXAlignment.Left

Frame.Name = "Frame"
Frame.Parent = TopBar
Frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Frame.BorderColor3 = Color3.fromRGB(0, 0, 0)
Frame.BorderSizePixel = 0
Frame.Position = UDim2.new(0, 0, 1, 0)
Frame.Size = UDim2.new(0, 448, 0, 235)

ScriptBox.Name = "ScriptBox"
ScriptBox.Parent = Frame
ScriptBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
ScriptBox.BorderColor3 = Color3.fromRGB(0, 0, 0)
ScriptBox.BorderSizePixel = 0
ScriptBox.Position = UDim2.new(0.015, 0, 0.032, 0)
ScriptBox.Size = UDim2.new(0, 435, 0, 174)
ScriptBox.Font = Enum.Font.SourceSans
ScriptBox.Text = ""
ScriptBox.TextColor3 = Color3.fromRGB(255, 255, 255)
ScriptBox.TextSize = 14.000
ScriptBox.TextXAlignment = Enum.TextXAlignment.Left
ScriptBox.TextYAlignment = Enum.TextYAlignment.Top

Clear.Name = "Clear"
Clear.Parent = Frame
Clear.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
Clear.BorderColor3 = Color3.fromRGB(0, 0, 0)
Clear.BorderSizePixel = 0
Clear.Position = UDim2.new(0.555, 0, 0.808, 0)
Clear.Size = UDim2.new(0, 193, 0, 39)
Clear.Font = Enum.Font.SourceSans
Clear.Text = "Clear"
Clear.TextColor3 = Color3.fromRGB(255, 255, 255)
Clear.TextSize = 14.000

Execute.Name = "Execute"
Execute.Parent = Frame
Execute.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
Execute.BorderColor3 = Color3.fromRGB(0, 0, 0)
Execute.BorderSizePixel = 0
Execute.Position = UDim2.new(0.015, 0, 0.808, 0)
Execute.Size = UDim2.new(0, 193, 0, 39)
Execute.Font = Enum.Font.SourceSans
Execute.Text = "Execute"
Execute.TextColor3 = Color3.fromRGB(255, 255, 255)
Execute.TextSize = 14.000

EnableDisable.Name = "Enable/Disable"
EnableDisable.Parent = Executor
EnableDisable.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
EnableDisable.BackgroundTransparency = 1.000
EnableDisable.BorderColor3 = Color3.fromRGB(0, 0, 0)
EnableDisable.BorderSizePixel = 0
EnableDisable.Position = UDim2.new(0.429906547, 0, 0.0895522386, 0)
EnableDisable.Size = UDim2.new(0, 49, 0, 49)
EnableDisable.Visible = false

ImageButton.Parent = EnableDisable
ImageButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ImageButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
ImageButton.BorderSizePixel = 0
ImageButton.Size = UDim2.new(0, 49, 0, 49)
ImageButton.Image = "rbxassetid://116178165142170"

UICorner.CornerRadius = UDim.new(0, 20)
UICorner.Parent = ImageButton

-- Logic:

-- Script execution
Execute.MouseButton1Click:Connect(function()
	local scriptToExecute = ScriptBox.Text
	local success, errorMessage = pcall(function()
		loadstring(scriptToExecute)()
	end)
	if not success then
		warn("Script execution failed: " .. errorMessage)
	end
end)

-- Clear script box
Clear.MouseButton1Click:Connect(function()
	ScriptBox.Text = ""
end)

-- Frame toggle
local isOpen = true
Close.MouseButton1Click:Connect(function()
	isOpen = not isOpen
	Frame.Visible = isOpen
	Close.Text = isOpen and "^" or ">"
	Close.Position = isOpen and UDim2.new(0.927, 0, 0, 0) or UDim2.new(0.927, 0, -0.167, 0)
end)

-- TopBar dragging
local dragging = false
local dragStart, startPos

TopBar.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragStart = input.Position
		startPos = TopBar.Position

		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
		local delta = input.Position - dragStart
		TopBar.Position = UDim2.new(
			startPos.X.Scale,
			startPos.X.Offset + delta.X,
			startPos.Y.Scale,
			startPos.Y.Offset + delta.Y
		)
	end
end)

-- Play sound on GUI load
LoadSound:Play()


-- Toggle Execute with [ key
UserInputService.InputBegan:Connect(function(input, gameProcessed)
	if gameProcessed then return end
	if input.KeyCode == Enum.KeyCode.LeftBracket then
		local active = not Execute.Active
		Execute.Active = active
		Execute.AutoButtonColor = active
		Execute.TextTransparency = active and 0 or 0.5
	end
end)
